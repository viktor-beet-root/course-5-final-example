import{y as o,j as e,N as V,r as c,v as d,O as T,Q as x,R as C,U as h,V as A,G as L,W as F,X as $,Y as _,Z as f}from"./index-3a77f27c.js";import{u as w}from"./useUrl-37134d3c.js";y.propTypes={actor:o.object.isRequired};function y({actor:s}){return e.jsxs("div",{className:"flex flex-col items-center justify-center w-1/6 text-center",children:[e.jsx("img",{className:"w-[150px] h-[150px] rounded-full object-cover border-4 hover:scale-[200%] transition-all",src:`${V+s.profile_path}`,alt:""}),e.jsx("span",{className:"text-xl",children:s.character}),e.jsx("span",{className:"text-xs mt-auto",children:s.name})]})}m.propTypes={list:o.array.isRequired,textBtn:o.string.isRequired,children:o.node,onChengeShow:o.func.isRequired,countShow:o.number.isRequired};function m({list:s,countShow:r,onChengeShow:t,textBtn:a="Show more",children:l}){return s?e.jsxs(e.Fragment,{children:[l,e.jsx("div",{className:"w-full",children:s.length>r&&e.jsx("button",{className:"mx-auto mt-10 bg-slate-900 block py-2 px-4 rounded text-center",onClick:()=>{t()},children:a})})]}):null}N.propTypes={moveId:o.number.isRequired};function N({moveId:s}){const[r,t]=c.useState([]),[a,l]=c.useState(10);return c.useEffect(()=>{async function n(){const i=await d(T.replace(x,s));Array.isArray(i.cast)&&i.cast.length&&t(i.cast.filter(U=>U.profile_path))}n()},[s]),e.jsxs("div",{className:"bg-gray-900/80 mt-5 p-10 rounded",children:[e.jsx("h3",{className:"text-2xl mb-5 font-bold",children:"Actors:"}),e.jsx(m,{list:r,onChengeShow:()=>{l(a+10)},textBtn:"Show more actors",countShow:a,children:e.jsx("div",{className:"flex flex-wrap justify-between gap-5 after:flex-grow after:min-w-[150px]",children:r.slice(0,a).map(n=>e.jsx(y,{actor:n},n.id))})})]})}v.propTypes={moveId:o.number.isRequired};function B(s){const r=[];for(const t in s)h[t]&&r.push({...h[t],id:s[t]});return r}function v({moveId:s}){const[r,t]=c.useState([]);return c.useEffect(()=>{async function a(){const l=await d(C.replace(x,s));l&&t(B(l))}a()},[s]),e.jsx("ul",{className:"flex py-5 gap-10 text-4xl justify-center",children:r.map(a=>e.jsx("li",{children:e.jsx("a",{href:a.url+a.id,target:"_blank",rel:"noreferrer",children:a.icon})},a.id))})}const M="https://www.youtube.com/embed/";p.propTypes={youtubeId:o.string.isRequired,title:o.string};function p({youtubeId:s,title:r}){return e.jsx("iframe",{className:"block w-full h-full",src:M+s,title:r,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}S.propTypes={trailer:o.object.isRequired};function S({trailer:s}){return s?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-2xl font-bold mb-5 text-center",children:"Trailer"}),e.jsx("div",{className:"aspect-video mb-5",children:e.jsx(p,{youtubeId:s.key,title:s.name})})]}):null}k.propTypes={video:o.object.isRequired,addShowVideo:o.func.isRequired};const u="::youtubeId::",g={hq:`https://i.ytimg.com/vi/${u}/hqdefault.jpg`,max:`https://i.ytimg.com/vi/${u}/maxresdefault.jpg`};function E(s){return{hq:g.hq.replace(u,s),max:g.max.replace(u,s)}}function k({video:s,addShowVideo:r}){if(!s)return null;const t=E(s.key);return e.jsxs("div",{className:"w-1/4 aspect-square border relative overflow-hidden cursor-pointer group",onClick:r,children:[e.jsx("img",{className:"w-full h-[135%] -top-11 object-cover absolute -z-10",src:t.hq,alt:s.name}),e.jsxs("div",{className:"bg-gray-800/90 p-2 -translate-y-full group-hover:translate-y-0 transition-transform",children:[e.jsx("p",{children:s.type}),e.jsx("p",{children:s.name})]}),e.jsx("span",{className:"w-[50px] h-[50px] bg-white/70 p-1 rounded-full flex justify-center items-center absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] scale-0 group-hover:scale-100 transition-transform ",children:e.jsx(A,{className:"text-orange-600",size:15})})]})}function G(s){return L({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"}}]})(s)}q.propTypes={title:o.string,buttons:o.array,children:o.node.isRequired,onClose:o.func.isRequired};function q({title:s,buttons:r,children:t,onClose:a}){function l(){a()}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-black/80 group",onClick:l,children:e.jsx("button",{className:"absolute right-10 top-10 bg-white/20 hover:bg-white/50 group-hover:bg-white/50 transition-colors p-2 rounded-full text-gray-900",children:e.jsx(G,{size:30})})}),e.jsxs("div",{className:"rounded-2xl flex flex-col bg-gray-800 max-w-[80%] aspect-video w-full h-full max-h-[80%] overflow-y-auto fixed center",children:[s&&e.jsx("header",{className:"p-5 border-b",children:s}),e.jsx("div",{className:"p-5 flex-grow ",children:t}),r&&r.length&&e.jsx("footer",{className:"p-5 border-t flex justify-end gap-5",children:r.map(n=>n)})]})]})}R.propTypes={videosList:o.array.isRequired};const j=8;function R({videosList:s}){const[r,t]=c.useState(j),[a,l]=c.useState(null);return s?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-2xl font-bold mb-5 text-center",children:"Videos"}),e.jsx(m,{list:s,countShow:r,onChengeShow:()=>{t(r+j)},textBtn:"Show more videos",children:e.jsx("div",{className:"flex flex-wrap",children:s.slice(0,r).map(n=>e.jsx(k,{video:n,addShowVideo:()=>{l(n)}},n.key))})}),a?e.jsx(q,{onClose:()=>{l(null)},children:e.jsx(p,{youtubeId:a.key,title:a.name})}):null]}):null}I.propTypes={moveId:o.number.isRequired};function I({moveId:s}){const[r,t]=c.useState([]),[a]=w(F,{language:"en-US"}),l=r.find(n=>n.type.toLocaleLowerCase()==="trailer");return c.useEffect(()=>{async function n(){const i=await d(a.replace(x,s));i&&Array.isArray(i.results)&&i.results.length&&t(i.results)}n()},[s,a]),console.log(r,l),e.jsxs("div",{className:"max-w-[1100px] mx-auto p-5",children:[l&&e.jsx(S,{trailer:l}),r&&e.jsx(R,{videosList:r})]})}function b(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)}function z(s){const r=~~(s/60),t=s%60;return`${r}h ${t<10?"0"+t:t}m`}function Y(){const s=$(),[r]=w(`${_}/${s.id}`,{language:"en-US"}),[t,a]=c.useState(null),l=t==null?void 0:t.genres;return c.useEffect(()=>{async function n(){const i=await d(r);i&&a(i)}n()},[r]),t?(console.log(t),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"py-36 bg-cover",style:{backgroundImage:`url(${f+t.backdrop_path})`},children:e.jsxs("div",{className:"max-w-[1100px] mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-[320px__minmax(320px,_calc(100%-360px))] gap-5 bg-gray-900/80 p-5 rounded",children:[e.jsx("img",{className:"w-[350px]",src:`${f}${t.poster_path}`,alt:t.title}),e.jsxs("div",{className:"max-w-full",children:[e.jsxs("h1",{className:"w-full text-3xl text-center font-bold mb-2",children:[t.title,e.jsx("span",{className:"text-2xl align-text-top text-orange-600",children:Number(t.vote_average).toFixed(2)})]}),t.tagline&&e.jsx("p",{className:"mb-5 bg-slate-900 p-2 text-center text-2xl",children:t.tagline}),e.jsxs("p",{className:"mb-5 text-2xl",children:[e.jsx("span",{className:"text-orange-600 font-bold",children:"Genres: "}),l&&l.map((n,i)=>e.jsxs("span",{children:[n.name,i!==l.length-1?", ":""]},n.id))]}),e.jsx("p",{className:"mb-5",children:t.overview}),e.jsxs("p",{className:"text-center",children:[e.jsx("span",{children:"Budget:"})," ",b(t.budget),e.jsx("span",{className:"inline-block ml-5 pl-5 border-l",children:" Revenue:"})," ",b(t.revenue),e.jsx("span",{className:"inline-block ml-5 pl-5 border-l",children:"Runtime:"})," ",z(t.runtime)]}),e.jsx(v,{moveId:t.id})]})]}),e.jsx(N,{moveId:t.id})]})}),e.jsx(I,{moveId:t.id})]})):e.jsx("p",{children:"Loading..."})}export{Y as Component,Y as default};
